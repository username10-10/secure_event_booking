{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<h2>ðŸ‘¤ Profile: {{ request.user.username }}</h2>

<div class="card">
    <p><strong>Username:</strong> {{ request.user.username }}</p>
    <p><strong>Email:</strong> {{ request.user.email }}</p>
    <p><strong>Staff Status:</strong> {{ request.user.is_staff|yesno:"Admin,User" }}</p>
</div>

<h2>ðŸ“Œ My Bookings</h2>

{% if user_bookings %}
    <table style="width:100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color:#2563eb; color:white;">
                <th style="padding:10px;">Event</th>
                <th style="padding:10px;">Date</th>
                <th style="padding:10px;">Location</th>
                <th style="padding:10px;">Booked At</th>
            </tr>
        </thead>
        <tbody>
            {% for booking in user_bookings %}
            <tr style="background-color:#f9fafb;">
                <td style="padding:10px;">{{ booking.event.title }}</td>
                <td style="padding:10px;">{{ booking.event.date }}</td>
                <td style="padding:10px;">{{ booking.event.location }}</td>
                <td style="padding:10px;">{{ booking.created_at|date:"M d, Y H:i" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>You have not booked any events yet.</p>
{% endif %}

{% endblock %}
